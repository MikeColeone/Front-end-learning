Vuex å’Œ Pinia éƒ½æ˜¯ Vue çš„**çŠ¶æ€ç®¡ç†åº“**ï¼Œä½†å®ƒä»¬çš„è®¾è®¡ç†å¿µã€ç”¨æ³•å’Œæ€§èƒ½ä¼˜åŒ–å·®å¼‚è¾ƒå¤§ã€‚

---

## ğŸ§© ç®€è¦å¯¹æ¯”ï¼šVuex vs Pinia

| å¯¹æ¯”é¡¹             | Vuex (æ—§ä¸€ä»£)             | Piniaï¼ˆVue 3 å®˜æ–¹æ¨èï¼‰                   |
| --------------- | ---------------------- | ----------------------------------- |
| å®˜æ–¹æ”¯æŒ            | âœ… Vue 2/3              | âœ… Vue 3 å®˜æ–¹æ¨è                        |
| API é£æ ¼          | åŸºäº mutations / actions | æ›´ç®€æ´ï¼Œç›´æ¥ä¿®æ”¹ state / æ”¯æŒç»„åˆå¼é£æ ¼            |
| ç±»å‹æ”¯æŒ            | å¼±ï¼ˆéœ€æ‰‹åŠ¨å£°æ˜ï¼‰               | å¼ºï¼ˆè‡ªåŠ¨æ¨å¯¼ TypeScript ç±»å‹ï¼‰               |
| æ¨¡å—åŒ–             | æ”¯æŒ modulesï¼Œè¯­æ³•å¤æ‚        | æ”¯æŒ store ç»„ç»‡æ¸…æ™°ç®€æ´                     |
| Devtools æ”¯æŒ     | âœ…                      | âœ… æ›´å‹å¥½ï¼Œæ”¯æŒæ—¶é—´æ—…è¡Œè°ƒè¯•                      |
| å­¦ä¹ æ›²çº¿            | ä¸­é«˜ï¼ˆå°¤å…¶æ˜¯æ–°æ‰‹ï¼‰              | ä½ï¼ˆä¸Šæ‰‹éå¸¸å¿«ï¼‰                            |
| Composition API | âŒ ä¸æ”¯æŒç»„åˆå¼               | âœ… å®Œå…¨æ”¯æŒç»„åˆå¼ API                       |
| æŒä¹…åŒ–ã€æ’ä»¶æ‰©å±•        | æ‰‹åŠ¨å®ç°                   | æ’ä»¶ç³»ç»Ÿå®Œå–„ï¼Œç”Ÿæ€å‹å¥½ï¼ˆå¦‚ pinia-plugin-persistï¼‰ |
| æ€§èƒ½              | è¾ƒå¥½                     | âœ… æ›´ä¼˜ï¼ˆæŒ‰éœ€å“åº”å¼ã€æ”¯æŒæ‡’åŠ è½½ storeï¼‰             |

---

## ğŸ§  ç†è§£æœ¬è´¨åŒºåˆ«

### 1. **è®¾è®¡ç†å¿µï¼šVuex = Flux æ€ç»´ï¼ŒPinia = Vue æ€ç»´**

- **Vuex** å¼ºè°ƒâ€œå•ä¸€æ•°æ®æº + æ˜¾å¼å˜æ›´â€ï¼Œå¿…é¡»ç”¨ `mutation` æäº¤ä¿®æ”¹ã€‚

- **Pinia** æ›´è´´è¿‘ Vue3 Composition APIï¼Œç›´æ¥ä¿®æ”¹ `state`ï¼Œä½¿ç”¨ `store()` å°±åƒä½¿ç”¨ `ref`ã€‚

### 2. **state ä¿®æ”¹æ–¹å¼**

```ts
// Vuex ä¿®æ”¹ stateï¼ˆå¿…é¡»é€šè¿‡ mutationï¼‰
this.$store.commit('setCount', 10)

// Pinia ç›´æ¥ä¿®æ”¹
const counter = useCounterStore()
counter.count = 10
```

### 3. **å†™æ³•å¯¹æ¯”**

#### âœ… Vuexï¼ˆç¤ºä¾‹ï¼‰

```ts
// store.js
const store = createStore({
  state: () => ({ count: 0 }),
  mutations: {
    increment(state) {
      state.count++
    }
  },
  actions: {
    asyncIncrement({ commit }) {
      setTimeout(() => commit('increment'), 1000)
    }
  }
})
```

#### âœ… Piniaï¼ˆç¤ºä¾‹ï¼‰

```ts
// stores/counter.ts
export const useCounterStore = defineStore('counter', {
  state: () => ({ count: 0 }),
  actions: {
    increment() {
      this.count++
    }
  }
})
```

---

## ğŸš€ ä¸ºä»€ä¹ˆæ¨èç”¨ Piniaï¼ˆå°¤å…¶æ˜¯ Vue 3 é¡¹ç›®ï¼‰

- Pinia æ˜¯ **Vue å›¢é˜Ÿæ¨èçš„å®˜æ–¹çŠ¶æ€ç®¡ç†åº“**

- å†™æ³•æ›´ç®€æ´ï¼Œæ›´ç°ä»£åŒ–ï¼ˆæ”¯æŒç»„åˆå¼ APIï¼‰

- TypeScript æ”¯æŒä¼˜é›…æ— ç—›

- ä¸ Vue Devtools é›†æˆæ›´å¥½

---

## ğŸ§© ä»€ä¹ˆæ—¶å€™ä»å¯èƒ½ä½¿ç”¨ Vuexï¼Ÿ

- æ—§ Vue 2 é¡¹ç›®å·²ç»é›†æˆäº† Vuexï¼Œè¿ç§»æˆæœ¬å¤§

- å›¢é˜Ÿå·²æœ‰ Vuex ä½¿ç”¨è§„èŒƒï¼Œä¸æ€¥äºå‡çº§

- ä¸€äº›ç‰¹æ®Šæ’ä»¶ç›®å‰åªæ”¯æŒ Vuexï¼ˆè¾ƒå°‘è§ï¼‰

---

## ğŸ§  æ€»ç»“ä¸€å¥è¯ï¼š

> âœ… **Vuex æ˜¯è¿‡å»ï¼ŒPinia æ˜¯æœªæ¥ã€‚**  
> Vue3 é¡¹ç›®é¦–é€‰ Piniaï¼ŒVue2 ä¹Ÿå¯ä»¥é€šè¿‡æ’ä»¶ [pinia-plugin-legacy](https://github.com/mragarg/pinia-plugin-legacy) ä½¿ç”¨ã€‚

---


